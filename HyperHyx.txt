import robocode.*;
import java.awt.Color;
import java.awt.Graphics2D;

public class HyperRyx extends AdvancedRobot {
    
    private double wallMargin = 20; // Distância mínima do robô em relação às paredes
    
    public void run() {
        setColors(Color.yellow, Color.blue, Color.green);
        setMaxVelocity(8);
        
        while (true) {
            // Verifica a distância do robô em relação às paredes
            double distanceToWall = Math.min(getX() - wallMargin, Math.min(getBattleFieldWidth() - getX() - wallMargin,
                                             Math.min(getY() - wallMargin, getBattleFieldHeight() - getY() - wallMargin)));
            
            // Se a distância for menor que o limite, recua
            if (distanceToWall < 0) {
                setBack(100);
            } else {
                // Caso contrário, avança
                setAhead(100);
            }
            
            // Gira o robô para ficar paralelo à parede mais próxima
            setTurnRight(getHeadingRadians() - Math.atan2(getX() - getBattleFieldWidth() / 2,
                                                          getY() - getBattleFieldHeight() / 2) + Math.PI / 2);
            
            execute();
        }
    }

    public void onScannedRobot(ScannedRobotEvent e) {
        // Código de ataque ao inimigo (mesmo do exemplo anterior)
        // ...
    }

    public void onHitWall(HitWallEvent e) {
        // Código de manobra para se afastar da parede (mesmo do exemplo anterior)
        // ...
    }

    public void onPaint(Graphics2D g) {
        // Código de desenho do tiro (mesmo do exemplo anterior)
        // ...
    }
}